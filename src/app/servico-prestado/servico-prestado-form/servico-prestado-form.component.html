<h1 class="mt-4">Serviços Prestados</h1>
<ol class="breadcrumb mb-4">
    <li class="breadcrum-bitem active">{{ servico.id ? 'Altera&ccedil;&atilde;o' : 'Novo' }}</li>
</ol>
<div class="container">
    <form #form="ngForm" (submit)="onSubmit()" >

      <div class="row">
        <div class="col-md-12">
          <div class="card">
            <div class="card-body">
              <div class="d-flex justify-content-between px-md-1">
                <div>
                  <h3 class="text-success">{{ id ? 'Alterando Serviço' : 'Novo Serviço' }}</h3>
                  <p class="mb-0">Ficha Serviço Prestado.</p>
                </div>
                <div class="align-self-center">
                  <i class="fas fa-pencil-alt text-info fa-3x"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="how-section1">
        <div class="row">
            <div class="col-md-6 how-img">
                <img src="http://hvogel.com.br/img/Work_Section2_freelance_img2.png" class="rounded-circle img-fluid" alt=""/>
            </div>
            <div class="col-md-6">
                <h4>Gerenciamento de Servi&ccedil;os</h4>
                            <h4 class="subheading">M&oacute;dulo de Administra&ccedil;&atilde;o de Servi&ccedil;os Prestados do Sistema. </h4>
            <p class="text-muted">Utilize esta p&aacute;gina para realizar o cadastro completo de servi&ccedil;os. Um servi&ccedil;o &eacute; uma
              despesa a ser lan&ccedil;ada a uma atividade qualquer, associada a um prestador que vai executar esta atividade.
              Este registro armazenar&aacute; dados como data do cadastro e valor, dentre outros.
              Um prestador pode ser associado &agrave; este servi&ccedil;o, mas n&atilde;o &eacute; obrigat&oacute;rio, pois um servi&ccedil;o pode ser criado
              primeiro e depois em outro momento poder&aacute; ter um prestador associado.
            </p>
            </div>
        </div>
  </div>

      <div class="row">
        <div class="col-md-12">
        <div class="badge bg-primary text-wrap" style="width: 20rem;">
          Cadastro de um Servi&ccedil;o Prestado do Cliente.
        </div>
      </div>
    </div>
        &nbsp;

        <div class="row">
            <div class="col-md-12">
                <div class="form-group">
                    <label>Cliente: *</label>
                    <select class="form-control"
                            [ngModelOptions]="{standalone: true}"
                            [(ngModel)]="servico.idCliente">
                        <option value="">Selecione...</option>
                        <option *ngFor="let cliente of clientes"
                                [ngValue]="cliente.id">
                            {{ cliente.nome }}
                        </option>
                    </select>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="form-group">
                    <label>Descrição: *</label>
                    <input class="form-control"
                            [(ngModel)]="servico.descricao" type="text"
                            name="descricao" id="inputDescricao">
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label>Data: *</label>
                        <input type="text"
                            class="form-control"
                            placeholder=""
                            bsDatepicker
                            [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY',
                            returnFocusToInput: true,
                            containerClass: 'theme-dark-blue',
                            showTodayButton: true,
                            showClearButton: true,
                            todayPosition: 'left',
                            clearPosition: 'right',
                            isAnimated: true }"
                            (bsValueChange)="onValueChange($event)"
                            [(ngModel)]="servico.data"
                            name="data"
                            id="inputData"
                            #inputData>

                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Preço: *</label>
                    <input class="form-control"
                            [(ngModel)]="servico.preco" type="text"
                            name="preco" id="inputPreco">
                </div>
            </div>
        </div>

        <div class="row">
          <div class="col-md-6">
              <div class="form-group">
                  <label>Status: *</label>
                  <select class="form-control"
                          [ngModelOptions]="{standalone: true}"
                          [(ngModel)]="servico.status">
                      <option value="E">Em Atendimento</option>
                      <option value="C">Cancelado</option>
                      <option value="F">Finalizado</option>
                  </select>
              </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
                <label>Prestador:</label>
                <select class="form-control"
                        [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="servico.prestador.id">
                    <option value="">Selecione...</option>
                    <option *ngFor="let prestador of prestadores"
                            [ngValue]="prestador.id">
                        {{ prestador.nome }}
                    </option>
                </select>
            </div>
        </div>
    </div>

     <div class="row">
        <div class="col-md-4">
          <div class="form-group">
            <re-captcha (resolved)="resolved($event)" #captcha
                siteKey="6LfWbsEbAAAAAHULqvnjRg_V5oInPHdy6jeyP8ZR">
            </re-captcha>
        </div>
      </div>
    </div>

        <div class="row">
            <div class="col-md-3">
                <button type="submit" class="btn btn-success">
                    <i class="fa fa-save"></i>
                    Salvar
                </button>

                <button type="button" routerLink="/servicos-prestados/lista"
                        class="btn btn-danger ml-1" >
                    <i class="fa fa-arrow-alt-circle-left" ></i> Voltar
                </button>
            </div>
        </div>

    </form>
</div>
